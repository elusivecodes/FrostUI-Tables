!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@fr0st/ui"),require("@fr0st/query")):"function"==typeof define&&define.amd?define(["exports","@fr0st/ui","@fr0st/query"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).UI=t.UI||{},t.UI,t.fQuery)}(this,(function(t,e,s){"use strict";function n(t){const e=65+(t-1)%26,s=String.fromCharCode(e),i=Math.round((t-1)/26);return i>0?n(i)+s:s}function i(t){return(t=(t=(t=t.replace("&","&amp;")).replace("<","&lt;")).replace(">","&gt;")).replace("","")}function r(t,e,s,n=0,i=0,r=0){if(!t)return(3600*n+60*i+r)/86400;let o=1;1900==t&&e<=2&&(o=0),e>2?e-=3:(e+=9,t--);const a=t.substring(0,2),l=t.substring(2);return Math.floor(146097*a/4)+Math.floor(1461*l/4)+Math.floor(153*(e+2)/5)+s+1721119-2415020+o}const o={"[Content_Types].xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Types xmlns="http://schemas.openxmlformats.org/package/2006/content-types"><Override PartName="/_rels/.rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/><Override PartName="/docProps/app.xml" ContentType="application/vnd.openxmlformats-officedocument.extended-properties+xml"/><Override PartName="/docProps/core.xml" ContentType="application/vnd.openxmlformats-package.core-properties+xml"/><Override PartName="/xl/_rels/workbook.xml.rels" ContentType="application/vnd.openxmlformats-package.relationships+xml"/>{sheets}<Override PartName="/xl/sharedStrings.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml"/><Override PartName="/xl/styles.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml"/><Override PartName="/xl/workbook.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml"/></Types>',"_rels/.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument" Target="xl/workbook.xml"/><Relationship Id="rId2" Type="http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties" Target="docProps/core.xml"/><Relationship Id="rId3" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties" Target="docProps/app.xml"/></Relationships>',"docProps/app.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Properties xmlns="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties"><TotalTime>0</TotalTime><Application>FrostUI-Tables</Application></Properties>',"docProps/core.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><cp:coreProperties xmlns:cp="http://schemas.openxmlformats.org/package/2006/metadata/core-properties" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:dcterms="http://purl.org/dc/terms/" xmlns:dcmitype="http://purl.org/dc/dcmitype/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"><dcterms:created xsi:type="dcterms:W3CDTF">{date}</dcterms:created><dc:language>en-US</dc:language><dcterms:modified xsi:type="dcterms:W3CDTF">{date}</dcterms:modified><cp:revision>1</cp:revision></cp:coreProperties>',"xl/_rels/workbook.xml.rels":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><Relationships xmlns="http://schemas.openxmlformats.org/package/2006/relationships"><Relationship Id="rId1" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles" Target="styles.xml"/>{sheets}',"xl/worksheets/sheet1.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><worksheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><dimension ref="{ref}"/><cols>{cols}</cols><sheetData>{rows}</sheetData></worksheet>',"xl/sharedStrings.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><sst xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" count="{cnt}" uniqueCount="{cnt}">{strings}</sst>',"xl/styles.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><styleSheet xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main"><fonts count="2"><font><name val="Calibri"/><family val="2"/></font><font><name val="Calibri"/><family val="2"/><b/></font></fonts><fills count="1"><fill><patternFill patternType="none"/></fill></fills><borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders><cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" /></cellStyleXfs><cellXfs count="8"><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0"/><xf numFmtId="1" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="9" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="10" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="14" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="20" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="22" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1"/><xf numFmtId="0" fontId="0" fillId="0" borderId="0" xfId="0" applyNumberFormat="1" applyAlignment="1"><alignment horizontal="right"/></xf><xf numFmtId="0" fontId="1" fillId="0" borderId="0" applyFont="1" applyFill="1" applyBorder="1"/></cellXfs><cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles></styleSheet>',"xl/workbook.xml":'<?xml version="1.0" encoding="UTF-8" standalone="yes"?><workbook xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:r="http://schemas.openxmlformats.org/officeDocument/2006/relationships"><fileVersion appName="FrostUI-Tables"/><sheets>{sheets}</sheets></workbook>'};let a=null;const l=()=>{if(!a){a=new Uint32Array(256);for(let t=0;t<256;t++){let e=t;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;a[t]=e>>>0}}return a};class h{static calc(t,e=0,s=null){return this.update(t,0,e,s)}static update(t,e,s=0,n=null){null===n&&(n=t.length),e^=4294967295;const i=l();for(let r=7&n;r--;++s)e=e>>>8^i[255&(e^t[s])];for(let r=n>>3;r--;s+=8)e=(e=(e=(e=(e=(e=(e=(e=e>>>8^i[255&(e^t[s])])>>>8^i[255&(e^t[s+1])])>>>8^i[255&(e^t[s+2])])>>>8^i[255&(e^t[s+3])])>>>8^i[255&(e^t[s+4])])>>>8^i[255&(e^t[s+5])])>>>8^i[255&(e^t[s+6])])>>>8^i[255&(e^t[s+7])];return(4294967295^e)>>>0}}let c=null;const d=()=>{if(null===c){c=new Uint8Array(256);for(let t=0;t<256;++t){let e=t,s=e,n=7;for(e>>>=1;e;e>>>=1)s<<=1,s|=1&e,--n;c[t]=(s<<n&255)>>>0}}return c},u=t=>d()[t];class p{constructor(t,e=0){this._buffer=t,this._index=e,this._bitIndex=0,this._buffer.length<=this._index&&this._expandBuffer()}finish(){let t=this._index;return this._bitIndex>0&&(this._buffer[t]<<=8-this._bitIndex,this._buffer[t]=u(this._buffer[t]),t++),this._buffer.subarray(0,t)}writeBits(t,e,s){s&&e>1&&(t=e>8?(t=>{const e=d();return e[255&t]<<24|e[t>>>8&255]<<16|e[t>>>16&255]<<8|e[t>>>24&255]})(t)>>32-e:u(t)>>8-e);let n=this._buffer[this._index];if(e+this._bitIndex<8)n=n<<e|t,this._bitIndex+=e;else for(let s=0;s<e;s++)n=n<<1|t>>e-s-1&1,8==++this._bitIndex&&(this._bitIndex=0,this._buffer[this._index++]=u(n),n=0,this._index===this._buffer.length&&this._expandBuffer());this._buffer[this._index]=n}_expandBuffer(){const t=this._buffer,e=t.length;this._buffer=new Uint8Array(e<<1),this._buffer.set(t)}}const f=t=>2*((t-2)/4|0),_=t=>2*t+2;class g{constructor(t){this._buffer=new Uint16Array(2*t),this.length=0}pop(){const t=this._buffer[0],e=this._buffer[1];this.length-=2,this._buffer[0]=this._buffer[this.length],this._buffer[1]=this._buffer[this.length+1];let s=0;for(;;){let t=_(s);if(t>=this.length)break;if(t+2<this.length&&this._buffer[t+2]>this._buffer[t]&&(t+=2),!(this._buffer[t]>this._buffer[s]))break;{let e=this._buffer[s];this._buffer[s]=this._buffer[t],this._buffer[t]=e,e=this._buffer[s+1],this._buffer[s+1]=this._buffer[t+1],this._buffer[t+1]=e}s=t}return{index:e,value:t}}push(t,e){let s=this.length;for(this._buffer[this.length++]=e,this._buffer[this.length++]=t;s>0;){const t=f(s);if(!(this._buffer[s]>this._buffer[t]))break;{let e=this._buffer[s];this._buffer[s]=this._buffer[t],this._buffer[t]=e,e=this._buffer[s+1],this._buffer[s+1]=this._buffer[t+1],this._buffer[t+1]=e,s=t}}}}let m=null;const b=t=>{switch(!0){case 3===t:return[257,t-3,0];case 4===t:return[258,t-4,0];case 5===t:return[259,t-5,0];case 6===t:return[260,t-6,0];case 7===t:return[261,t-7,0];case 8===t:return[262,t-8,0];case 9===t:return[263,t-9,0];case 10===t:return[264,t-10,0];case t<=12:return[265,t-11,1];case t<=14:return[266,t-13,1];case t<=16:return[267,t-15,1];case t<=18:return[268,t-17,1];case t<=22:return[269,t-19,2];case t<=26:return[270,t-23,2];case t<=30:return[271,t-27,2];case t<=34:return[272,t-31,2];case t<=42:return[273,t-35,3];case t<=50:return[274,t-43,3];case t<=58:return[275,t-51,3];case t<=66:return[276,t-59,3];case t<=82:return[277,t-67,4];case t<=98:return[278,t-83,4];case t<=114:return[279,t-99,4];case t<=130:return[280,t-115,4];case t<=162:return[281,t-131,5];case t<=194:return[282,t-163,5];case t<=226:return[283,t-195,5];case t<=257:return[284,t-227,5];case 258===t:return[285,t-258,0]}};class x{constructor(t,e){this.length=t,this._backwardDistance=e}toLz77Array(){const t=[];let e=0;const s=(n=this.length,(()=>{if(!m){m=[];for(let t=3;t<=258;t++){const e=b(t);m[t]=e[2]<<24|e[1]<<16|e[0]}}return m})()[n]);var n;t[e++]=65535&s,t[e++]=s>>16&255,t[e++]=s>>24;const i=(t=>{switch(!0){case 1===t:return[0,t-1,0];case 2===t:return[1,t-2,0];case 3===t:return[2,t-3,0];case 4===t:return[3,t-4,0];case t<=6:return[4,t-5,1];case t<=8:return[5,t-7,1];case t<=12:return[6,t-9,2];case t<=16:return[7,t-13,2];case t<=24:return[8,t-17,3];case t<=32:return[9,t-25,3];case t<=48:return[10,t-33,4];case t<=64:return[11,t-49,4];case t<=96:return[12,t-65,5];case t<=128:return[13,t-97,5];case t<=192:return[14,t-129,6];case t<=256:return[15,t-193,6];case t<=384:return[16,t-257,7];case t<=512:return[17,t-385,7];case t<=768:return[18,t-513,8];case t<=1024:return[19,t-769,8];case t<=1536:return[20,t-1025,9];case t<=2048:return[21,t-1537,9];case t<=3072:return[22,t-2049,10];case t<=4096:return[23,t-3073,10];case t<=6144:return[24,t-4097,11];case t<=8192:return[25,t-6145,11];case t<=12288:return[26,t-8193,12];case t<=16384:return[27,t-12289,12];case t<=24576:return[28,t-16385,13];case t<=32768:return[29,t-24577,13]}})(this._backwardDistance);return t[e++]=i[0],t[e++]=i[1],t[e++]=i[2],t}}const y=t=>{const e=new Uint16Array(t.length),s=[],n=[];let i=0;for(let e=0;e<t.length;e++)s[t[e]]=1+(0|s[t[e]]);for(let t=1;t<=16;t++)n[t]=i,i+=0|s[t],i<<=1;for(let s=0;s<t.length;s++){i=n[t[s]],n[t[s]]+=1,e[s]=0;for(let n=0;n<t[s];n++)e[s]=e[s]<<1|1&i,i>>>=1}return e},I=(t,e)=>{const s=new g(572),n=new Uint8Array(t.length);for(let e=0;e<t.length;e++)t[e]>0&&s.push(e,t[e]);const i=new Array(s.length/2),r=new Uint32Array(s.length/2);if(1===i.length)return n[s.pop().index]=1,n;for(let t=0;t<i.length;t++)i[t]=s.pop(),r[t]=i[t].value;const o=w(r,r.length,e);for(let t=0;t<i.length;t++)n[i[t].index]=o[t];return n},w=(t,e,s)=>{const n=new Uint16Array(s),i=new Uint8Array(s),r=new Uint8Array(e),o=new Array(s),a=new Array(s),l=new Array(s);let h=(1<<s)-e;const c=1<<s-1;n[s-1]=e;for(let t=0;t<s;t++)h<c?i[t]=0:(i[t]=1,h-=c),h<<=1,n[s-2-t]=(n[s-1-t]/2|0)+e;n[0]=i[0],o[0]=new Array(n[0]),a[0]=new Array(n[0]);for(let t=0;t<s;t++)n[t]>2*n[t-1]+i[t]&&(n[t]=2*n[t-1]+i[t]),o[t]=new Array(n[t]),a[t]=new Array(n[t]);for(let t=0;t<e;t++)r[t]=s;for(let e=0;e<n[s-1];e++)o[s-1][e]=t[e],a[s-1][e]=e;for(let t=0;t<s;t++)l[t]=0;1===i[s-1]&&(r[0]--,l[s-1]++);const d=t=>{const s=a[t][l[t]];s===e?(d(t+1),d(t+1)):r[s]--,l[t]++};for(let r=s-2;r>=0;r--){let s=0,h=l[r+1];for(let i=0;i<n[r];i++){const n=o[r+1][h]+o[r+1][h+1];n>t[s]?(o[r][i]=n,a[r][i]=e,h+=2):(o[r][i]=t[s],a[r][i]=s,s++)}l[r]=0,1===i[r]&&d(r)}return r};class v{constructor(t,e){e={lazy:0,lz77MinLength:3,lz77MaxLength:258,...e},this._input=t,this._lazy=e.lazy,this._lz77MinLength=e.lz77MinLength,this._lz77MaxLength=e.lz77MaxLength,this._outputIndex=0,this._output=new Uint8Array(32768)}compress(){const t=new p(new Uint8Array(this._output.buffer),this._outputIndex);t.writeBits(1,1,!0),t.writeBits(2,2,!0);const e=this._lz77(),s=I(this.freqsLitLen,15),n=y(s),i=I(this.freqsDist,7),r=y(i);let o,a;for(o=286;o>257&&0===s[o-1];o--);for(a=30;a>1&&0===i[a-1];a--);const l=((t,e,s,n)=>{const i=new Uint32Array(t+s),r=new Uint32Array(316),o=new Uint8Array(19);let a=0;for(let s=0;s<t;s++)i[a++]=e[s];for(let t=0;t<s;t++)i[a++]=n[t];let l=0;for(let t=0;t<i.length;t+=a){for(a=1;t+a<i.length&&i[t+a]===i[t];a++);let e=a;if(0===i[t])if(e<3)for(;e-- >0;)r[l++]=0,o[0]++;else for(;e>0;){let t=Math.min(e,138);t>e-3&&t<e&&(t=e-3),t<=10?(r[l++]=17,r[l++]=t-3,o[17]++):(r[l++]=18,r[l++]=t-11,o[18]++),e-=t}else if(r[l++]=i[t],o[i[t]]++,e--,e<3)for(;e-- >0;)r[l++]=i[t],o[i[t]]++;else for(;e>0;){let t=Math.min(e,6);t>e-3&&t<e&&(t=e-3),r[l++]=16,r[l++]=t-3,o[16]++,e-=t}}return{codes:r.subarray(0,l),freqs:o}})(o,s,a,i),h=I(l.freqs,7),c=new Array(19),d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];for(let t=0;t<19;t++)c[t]=h[d[t]];let u;for(u=19;u>4&&0===c[u-1];u--);const f=y(h);t.writeBits(o-257,5,!0),t.writeBits(a-1,5,!0),t.writeBits(u-4,4,!0);for(let e=0;e<u;e++)t.writeBits(c[e],3,!0);for(let e=0;e<l.codes.length;e++){const s=l.codes[e];if(t.writeBits(f[s],h[s],!0),s>=16){let n;switch(e++,s){case 16:n=2;break;case 17:n=3;break;case 18:n=7}t.writeBits(l.codes[e],n,!0)}}for(let o=0;o<e.length;o++){const a=e[o];if(t.writeBits(n[a],s[a],!0),a>256){t.writeBits(e[++o],e[++o],!0);const s=e[++o];t.writeBits(r[s],i[s],!0),t.writeBits(e[++o],e[++o],!0)}else if(256===a)break}return this._output=t.finish(),this._outputIndex=this._output.length,this._output}static compress(t,e){return new this(t,e).compress()}_lz77(){const t=new Uint16Array(2*this._input.length),e=new Uint32Array(286),s=new Uint32Array(30);e[256]=1;const n={};let i,r=0,o=0;const a=(n,a)=>{const l=n.toLz77Array();for(let e=0;e<l.length;e++)t[r++]=l[e];e[l[0]]++,s[l[3]]++,o=n.length+a-1,i=null};for(let s=0;s<this._input.length;s++){let l=0;for(let t=0;t<this._lz77MinLength&&s+t!==this._input.length;t++)l=l<<8|this._input[s+t];l in n||(n[l]=[]);const h=n[l];if(o-- >0)h.push(s);else{for(;h.length>0&&s-h[0]>32768;)h.shift();if(s+this._lz77MinLength>=this._input.length){i&&a(i,-1);for(let n=0;n<this._input.length-s;n++){const i=this._input[s+n];t[r++]=i,e[i]++}break}if(h.length){const n=this._searchLongestMatch(s,h);if(i)if(i.length<n.length){const i=this._input[s-1];t[r++]=i,e[i]++,a(n,0)}else a(i,-1);else n.length<this._lazy?i=n:a(n,0)}else if(i)a(i,-1);else{const n=this._input[s];t[r++]=n,e[n]++}h.push(s)}}return t[r++]=256,e[256]++,this.freqsLitLen=e,this.freqsDist=s,t.subarray(0,r)}_searchLongestMatch(t,e){let s,n=0;const i=e.length;t:for(let r=0;r<i;r++){const o=e[i-r-1];let a=this._lz77MinLength;if(n>this._lz77MaxLength){for(j=n;j>this._lz77MinLength;j--)if(this._input[o+j-1]!==this._input[t+j-1])continue t;a=n}for(;a<this._lz77MaxLength&&t+a<i&&this._input[o+a]===this._input[t+a];)a++;if(a>n&&(s=o,n=a),a===this._lz77MaxLength)break}return new x(n,t-s)}}const C=new TextEncoder,k=t=>C.encode(t),$=t=>new Int16Array([t]),R=t=>new Int32Array([t]);class T{constructor(t="octet/stream"){this._type=t,this._dir=[],this._files=[],this._offset=0,this._entries=0}addFile(t,e){const s=k(t).length,n=(e=k(e)).byteLength,i=h.calc(e);let r=n,o=0;n>=256&&(r=(e=v.compress(e)).byteLength,o=8);const a=new Date;let l=a.getSeconds();l>=32&&(l-=32);const c=a.getYear()-1980,d=`${l.toString(2)}`.padStart(5,"0"),u=`${a.getMinutes().toString(2)}`.padStart(6,"0"),p=`${a.getHours().toString(2)}`.padStart(5,"0"),f=`${a.getDate().toString(2)}`.padStart(5,"0"),_=`${a.getMonth().toString(2)}`.padStart(4,"0"),g=`${c.toString(2)}`.padStart(7,"0"),m=parseInt(`${p}${u}${d}`,2),b=parseInt(`${g}${_}${f}`,2),x=[k("PK"),$(0),$(10),$(0),$(o),$(m),$(b),R(i),R(r),R(n),$(s),$(0),$(0),$(0),$(0),R(32),R(this._offset),k(t)];this._dir.push(...x);const y=[k("PK"),$(10),$(0),$(o),$(m),$(b),R(i),R(r),R(n),$(s),$(0),k(t),e];this._files.push(...y),this._offset+=y.reduce(((t,e)=>t+e.byteLength),0),this._entries++}zip(){const t=this._dir.reduce(((t,e)=>t+e.byteLength),0);return new Blob([...this._files,...this._dir,k("PK"),$(0),$(0),$(this._entries),$(this._entries),R(t),R(this._offset),$(0)],{type:this._type})}}class S{constructor(){this._current=0,this._sheets=[],this._sKeys={},this._sValues=[]}addSheet(t,e=null){this._current++,e||(e=`Sheet${this._current}`),this._sheets.push({name:e,data:t})}create(){const t=new T("application/vnd.openxmlformats-officedocument.spreadsheetml.sheet");for(let[e,s]of Object.entries(o))switch(e){case"[Content_Types].xml":const n=this._sheets.map(((t,e)=>`<Override PartName="/xl/worksheets/sheet${e+1}.xml" ContentType="application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml"/>`)).join("");s=s.replace("{sheets}",n),t.addFile(e,s);break;case"xl/_rels/workbook.xml.rels":let i=this._sheets.map(((t,e)=>`<Relationship Id="rId${e+2}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet" Target="worksheets/sheet${e+1}.xml"/>\n`)).join("");i+=`<Relationship Id="rId${this._sheets.length+3}" Type="http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings" Target="sharedStrings.xml"/></Relationships>`,s=s.replace("{sheets}",i),t.addFile(e,s);break;case"xl/workbook.xml":const r=this._sheets.map(((t,e)=>`<sheet name="${t.name}" sheetId="${e+1}" state="visible" r:id="rId${e+2}"/>`));s=s.replace("{sheets}",r),t.addFile(e,s);break;case"docProps/core.xml":const o=(new Date).toISOString().substring(0,19)+"Z";s=s.replaceAll("{date}",o),t.addFile(e,s);break;case"xl/sharedStrings.xml":this._sValues.length||this._sValues.push("No Data");const a=this._sValues.map((t=>`<si><t>${t}</t></si>`)).join("\r\n");s=s.replaceAll("{cnt}",`${this._sValues.length}`),s=s.replace("{strings}",a),t.addFile(e,s);break;case"xl/worksheets/sheet1.xml":for(const[n,i]of this._sheets.entries()){e=`xl/worksheets/sheet${n+1}.xml`;const r=this._sheetToXml(i,s);t.addFile(e,r)}break;default:t.addFile(e,s)}return t.zip()}_sheetToXml(t,e){const s={},o=[],a=[];let l=0;const h=(t,e=null)=>{l++;let o=`<row r="${l}">`,h=0;for(let a of t){if(h++,1===l&&(s[h]=0),!a)continue;const t=n(h)+l;a=`${a}`;const c=a.length;let d,u,p;if("0"===a||/^[-+]?[1-9]\d{0,14}$/.test(a))p=a.trimStart("+"),c>10&&(u=1);else if(/^[-+]?(?:0|[1-9]\d*)\.\d+$/.test(a))p=a.trimStart("+");else if(/^[-+]?\d+%$/.test(a))a=parseInt(a)/100,p=a.toFixed(2),u=2;else if(/^[-+]?\d+\.\d+%$/.test(a))a=Math.round(100*parseFloat(a))/1e4,p=a.toFixed(4),u=3;else if(/^\d{4}-\d{2}-\d{2}$/.test(a)){const t=a.match(/^(\d{4})-(\d{2})-(\d{2})$/);p=r(t[1],t[2],t[3]),u=4}else if(/^\d{2}\/\d{2}\/\d{4}$/.test(a)){const t=a.match(/^(\d{2})\/(\d{2})\/(\d{4})$/);p=r(t[3],t[2],t[1]),u=4}else if(/\d{2}:\d{2}:\d{2}$/.test(a)){const t=a.match(/(\d{2}):(\d{2}):(\d{2})$/);p=r(0,0,0,t[1],t[2],t[3]),u=5}else if(/^\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}$/.test(a)){const t=a.match(/^(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})$/);p=r(t[1],t[2],t[3],t[4],t[5],t[6]),u=6}else if(/^\d{2}\/\d{2}\/\d{4} \d{2}:\d{2}:\d{2}$/.test(a)){const t=a.match(/^(\d{2})\/(\d{2})\/(\d{4}) (\d{2}):(\d{2}):(\d{2})$/);p=r(t[3],t[2],t[1],t[4],t[5],t[6]),u=6}else if(c>160)d="inlineStr",p=i(a);else{/^[0-9+-.]+$/.test(a)&&(u=7),d="s",a=a.trimStart("\0"),a=i(a);const t=`~${a}`;t in this._sKeys?p=this._sKeys[t]:(this._sValues.push(a),p=this._sValues.length-1,this._sKeys[t]=p)}s[h]=Math.max(c,s[h]);const f={r:t};d&&(f.t=d),e&&(u=e),u&&(f.s=u),o+=`<c ${Object.keys(f).map((t=>`${t}="${f[t]}"`)).join(" ")}>`+("inlineStr"===d?`<is><t>${p}</t></is>`:`<v>${p}</v>`)+"</c>"}o+="</row>",a.push(o)};if(t.data.header&&h(t.data.header,8),t.data.rows)for(const e of t.data.rows)h(e);t.data.footer&&h(t.data.footer,8);for(const[t,e]of Object.entries(s))o.push(`<col min="${t}" max="${t}" width="${Math.min(e+5,60)}" />`);const c=`A1:${n(o.length)}${a.length}`;return(e=(e=e.replace("{ref}",c)).replace("{cols}",o.join("\r\n"))).replace("{rows}",a.join("\r\n"))}}function A(t,e){const n=s.create("a",{attributes:{href:URL.createObjectURL(t),download:e}});s.append(document.body,n),s.click(n),s.detach(n)}class D extends e.BaseComponent{constructor(t,n){let i;super(t,n),n&&n.layout&&Object.assign(this._options.layout,n.layout),this._data=[],this._results=[],this._filtered=0,this._total=0,this._getData=null,this._options.getResults?this._getResultsInit():i=s._isArray(this._options.data)?this._options.data:function(t){const e=s.findOne("tbody",t);return s.children(e,"tr").map((t=>s.children(t,"td").map((t=>s.getHTML(t)))))}(this._node),i&&(this._data=i,this._getDataInit()),this._headings=function(t){const e=s.findOne("thead",t),n=s.children(e,"tr").shift();return s.children(n,"th").map((t=>({text:s.getHTML(t),class:s.getAttribute(t,"class")})))}(this._node),this._columns=[],this._options.columns?this._columns=this._options.columns:this._columns=new Array(this._headings.length).fill(),this._columns=this._columns.map(((t,e)=>({class:null,data:e,dir:"asc",format:null,name:null,orderData:null,orderable:!0,searchable:!0,visible:!0,createdCell:null,...t}))),this._columnCount=this._columns.reduce(((t,e)=>(e.visible&&t++,t)),0),this._offset=0,this._limit=this._options.paging?this._options.length:Number.INFINITY,this._order=this._options.order.slice(),this._term=null,s.getAttribute(this._node,"id")||(s.setAttribute(this._node,{id:e.generateId("table")}),this._id=!0),this._buildIndex(),this._render(),this._events(),s.triggerEvent(this._node,"init.ui.table"),this._getData()}addRow(t){this._data.push(t),this._buildIndex(),this._total++,this._filtered++,this._options.getResults?(this._rowIndexes.push(this._data.length-1),this._refreshResults(),this._renderResults()):this._getData()}clear(){this._data=[],this._index=[],this._filterIndexes=null,this._rowIndexes=[],this._results=[],this._offset=0,this._total=0,this._filtered=0,this._options.searching&&s.setValue(this._searchInput,""),this._renderResults()}dispose(){this._id&&s.removeAttribute(this._node,"id"),s.removeAttribute(this._node,"aria-describedby"),s.before(this._container,this._node),s.remove(this._container),s.empty(this._node);for(const t of s.children(this._original))s.append(this._node,t);this._original=null,this._container=null,this._loader=null,this._thead=null,this._tbody=null,this._tfoot=null,this._infoContainer=null,this._pagination=null,this._lengthSelect=null,this._searchInput=null,this._columns=null,this._headings=null,this._order=null,this._data=null,this._index=null,this._filterIndexes=null,this._rowIndexes=null,this._results=null,this._request=null,this._getData=null,super.dispose()}getColumn(t,{modified:e=!0}={}){return e?this._rowIndexes.map((e=>s._getDot(this._data[e],`${t}`))):this._data.map((e=>s._getDot(e,`${t}`)))}getRow(t,{modified:e=!0}={}){const n=this._getIndex(t,{modified:e});return s._isPlainObject(this._data[n])?{...this._data[n]}:[...this._data[n]]}getValue(t,e,{modified:n=!0}={}){const i=this._getIndex(t,{modified:n});return s._getDot(this._data[i],`${e}`)}hideColumn(t){this._columns[t].visible=!1,this._renderResults()}info(){return{end:this._offset+this._results.length,filtered:this._filtered,start:this._offset,total:this._total}}length(t){this._options.paging&&(this._limit=t,this._offset-=this._offset%this._limit,s.triggerEvent(this._node,"length.ui.table"),this._getData())}loading({show:t=!0}={}){t?(s.triggerEvent(this._node,"processing.ui.table"),s.show(this._loader)):(s.hide(this._loader),s.triggerEvent(this._node,"processed.ui.table"))}order(t){this._options.ordering&&(this._order=t,s.triggerEvent(this._node,"order.ui.table"),this._getData())}page(t){this._options.paging&&(this._offset=(t-1)*this._limit,s.triggerEvent(this._node,"page.ui.table"),this._getData())}refresh(){this._renderResults()}reload({reset:t=!1}={}){t&&(this._offset=0),this._getData()}removeRow(t,{modified:e=!0}={}){const s=this._getIndex(t,{modified:e});this._data=this._data.filter(((t,e)=>e!==s)),this._buildIndex(),this._refreshResults(),this._renderResults()}search(t){if(this._options.searching)if(s.setValue(this._searchInput,t),this._term=t,s.triggerEvent(this._node,"search.ui.table"),this._options.getResults)this._getData();else{if(this._term){this._filterIndexes=[];const t=s._escapeRegExp(this._term),e=new RegExp(t,"i");for(const[t,n]of this._data.entries())for(const i of this._columns){if(!i.searchable)continue;const r=s._getDot(n,`${i.data}`);e.test(r)&&this._filterIndexes.push(t)}this._filtered=this._filterIndexes.length}else this._filterIndexes=null,this._filtered=this._total;this._getData()}}setColumn(t,e,{modified:n=!0}={}){this._data=this._data.map(((i,r)=>{const o=n?this._rowIndexes.findIndex((t=>t==r)):r;return o>=0&&s._setDot(i,`${t}`,e[o]),i})),this._buildIndex(),this._refreshResults(),this._renderResults()}setRow(t,e,{modified:s=!0}={}){const n=this._getIndex(t,{modified:s});this._data[n]=e,this._buildIndex(),this._refreshResults(),this._renderResults()}setValue(t,e,n,{modified:i=!0}={}){const r=this._getIndex(t,{modified:i});s._setDot(this._data[r],`${e}`,n),this._buildIndex(),this._refreshResults(),this._renderResults()}showColumn(t){this._columns[t].visible=!0,this._renderResults()}}D.defaults={buttons:[],layout:{top:"search,buttons|length",bottom:"info,pagination"},lang:{info:"Showing results {start} to {end} of {total}",infoFiltered:"Showing results {start} to {end} of {filtered} (filtered from {total} total)",noData:"No data available",noResults:"No results to show",page:"Page",perPage:"Per Page",search:"Search",paginate:{first:"First",last:"Last",next:"Next",previous:"Previous"},buttons:{csv:"CSV",excel:"Excel",print:"Print"},aria:{sortAscending:": activate to sort column ascending",sortDescending:": activate to sort column descending"}},icons:{first:"&laquo;",last:"&raquo",next:"&gt;",previous:"&lt;"},inputStyle:"filled",createdRow:null,drawCallback:null,footerCallback:null,headerCallback:null,infoCallback:null,preDrawCallback:null,rowCallback:null,columns:null,order:[[0,"asc"]],lengths:[10,25,50,100],length:10,debounce:250,info:!0,lengthChange:!0,ordering:!0,paging:!0,searching:!0},D.classes={bottomRow:"d-md-flex justify-content-between mx-n2",button:"btn btn-table",buttonGroup:"btn-group btn-group-sm mt-1",column:"d-md-flex",columnContainer:"text-center px-2 mb-1",container:"position-relative mb-2",emptyCell:"text-center py-3",infoContainer:"text-center text-md-start mb-2 mb-md-0 w-100",lengthContainer:"d-flex justify-content-center justify-content-md-start w-100 mb-1",lengthInputContainer:"form-input d-inline-block",lengthInputFilled:"input-filled input-sm",lengthInputOutline:"input-outline input-sm",lengthInputRipple:"ripple-line",lengthLabel:"mb-1 mb-md-0",lengthLabelText:"me-2",loader:"position-absolute top-50 start-50 translate-middle z-1",loaderIcon:"spinner-border text-primary",pageActive:"active",pageDisabled:"disabled",pageItem:"page-item",pageLink:"page-link ripple",pagination:"pagination pagination-sm mx-auto me-md-0",paginationContainer:"d-flex w-100",searchContainer:"w-100 mb-1",searchInputContainer:"form-input mx-auto me-md-0",searchInputFilled:"input-filled input-sm",searchInputOutline:"input-outline input-sm",searchInputRipple:"ripple-line",table:"table table-bordered",tableContainer:"table-responsive",tableHeading:"fw-bold",tableSort:"table-sort",tableSortAsc:"table-sort-asc",tableSortDesc:"table-sort-desc",topRow:"d-md-flex justify-content-between mb-2 mx-n2"},D.buttons={csv:function(t){t.title||(t.title=s.getText("title")),t.columns||(t.columns=this._getVisibleColumns());const e=[this._getHeadings(t.columns),...this._getResultRows(t.columns)],n=[];for(const t of e){const e=t.map((t=>(t=`${t}`.replace(/"/g,'""')).indexOf(",")>=0?`"${t}"`:t)).join(",");n.push(e)}A(new Blob([n.join("\r\n")],{type:"text/csv;charset=utf-8;"}),`${t.title}.csv`)},excel:function(t){t.title||(t.title=s.getText("title")),t.columns||(t.columns=this._getVisibleColumns());const e=new S;e.addSheet({header:this._getHeadings(t.columns),rows:this._getResultRows(t.columns)}),A(e.create(),`${t.title}.xlsx`)},print:function(t){t.title||(t.title=s.getText("title")),t.columns||(t.columns=this._getVisibleColumns());const e=window.open("","");e.document.head.innerHTML=`<title>${t.title}</title>`;const n=s.find("link, style"),i=s.clone(n);for(const t of i){if("link"===s.tagName(t)){const e=s.getAttribute(t,"href"),n=new URL(e,document.location).href;s.setAttribute(t,{href:n})}e.document.head.appendChild(t)}const r=s.create("div"),o=this._buildTable(t.columns),a=s.getAttribute(this._node,"class");s.addClass(o,a),s.append(r,o);const l=s.getHTML(r);e.document.body.innerHTML=`<h1>${t.title}</h1>${l}`,setTimeout((t=>{e.print(),e.close()}),1e3)}},D.layout={buttons(t){this._renderButtons(t)},search(t){this._renderSearch(t)},length(t){this._renderLengthSelect(t)},info(t){this._renderInfoContainer(t)},pagination(t){this._renderPaginationContainer(t)}},e.initComponent("table",D);const F=D.prototype;F._buildIndex=function(){if(!this._options.getResults&&this._options.ordering){this._index=[];for(const t of this._columns){if(!t.orderable)continue;this._index[t.data]=[];const e={};for(const[n,i]of this._data.entries()){const r=s._getDot(i,`${t.data}`);r in e||(e[r]=[]),e[r].push(n)}const n=Object.keys(e).sort(((t,e)=>{if(s._isNumeric(t)&&s._isNumeric(e))return t-e;const n=t.toLowerCase(),i=e.toLowerCase();return n.localeCompare(i)}));for(const s of n)this._index[t.data].push(e[s])}}},F._buildTable=function(t){const e=s.create("table"),n=s.create("thead"),i=s.create("tr");for(const e of this._getHeadings(t)){const t=s.create("th",{text:e});s.append(i,t)}s.append(n,i),s.append(e,n);const r=s.create("tbody");for(const e of this._getResultRows(t)){const t=s.create("tr");for(const n of e){const e=s.create("td",{text:n});s.append(t,e)}s.append(r,t)}return s.append(e,r),e},F._events=function(){this._options.lengthChange&&s.addEvent(this._lengthSelect,"change.ui.table",(t=>{const e=s.getValue(this._lengthSelect);this.length(e)})),this._options.searching&&s.addEvent(this._searchInput,"input.ui.table",s._debounce((t=>{const e=s.getValue(this._searchInput);this.search(e)}))),this._options.ordering&&s.addEventDelegate(this._thead,"click.ui.table","th",(t=>{t.preventDefault();const e=s.index(t.currentTarget);if(!this._columns[e].orderable)return;const n=this._columns[e].dir;let i=null;for(const[t,s]of this._order)if(t==e){i=s;break}let r,o=n;i===n&&(o="asc"===n?"desc":"asc"),r=t.shiftKey?i?i===n?this._order.map((([t,s])=>(t==e&&(s=o),[t,s]))):this._order.filter((([t])=>t!=e)):[...this._order,[e,o]]:[[e,o]],this.order(r)})),this._options.paging&&s.addEventDelegate(this._pagination,"click.ui.table","[data-ui-page]",(t=>{t.preventDefault();const e=s.getDataset(t.currentTarget,"uiPage");this.page(e)}))},F._getDataInit=function(){this._total=this._data.length,this._filtered=this._total,this._getData=t=>{if(this.loading(),this._rowIndexes=this._filterIndexes,this._options.ordering){const t=this._getOrder();this._rowIndexes=this._getOrderedIndexes(t,this._rowIndexes)}this._rowIndexes||(this._rowIndexes=s._range(this._offset,this._offset+this._limit)),this.loading({show:!1}),this._refreshResults(),this._renderResults()}},F._getHeadings=function(t){const e=[];for(const[s,n]of this._headings.entries())t.includes(s)&&e.push(n.text);return e},F._getIndex=function(t,{modified:e=!0}={}){return e?this._rowIndexes[t]:t},F._getOrder=function(){const t=[];for(const[e,s]of this._order)this._columns[e].orderData?t.push(...this._columns[e.orderData]):t.push([e,s]);return t},F._getOrderedIndexes=function(t,e=null,s=this._offset,n=this._limit,i=0){const[r,o]=t[i],a=this._columns[r].data;let l=this._index[a];"desc"===o&&(l=l.slice().reverse());let h=0;const c=[];for(const r of l){let a=e?r.filter((t=>e.includes(t))):r;if("desc"===o&&(a=a.slice().reverse()),s>h+a.length||!a.length){h+=r.length;continue}const l=a.length>1&&i<t.length-1?this._getOrderedIndexes(t,a,0,Math.min(a.length,n-c.length),i+1):r;for(const t of l)if(h++,!(h<=s)&&(c.push(t),c.length==n))return c}return c},F._getResultRows=function(t){const e=[];for(const n of this._results){const i=[];for(const[e,r]of this._columns.entries()){if(!t.includes(e))continue;const o=s._getDot(n,`${r.data}`);i.push(o)}e.push(i)}return e},F._getResultsInit=function(){const t=s._debounce((()=>{const t={};this._term&&(t.term=this._term),this._options.ordering&&(t.order={...this._order.map((([t,e])=>({column:t,dir:e})))}),this._options.paging&&(t.offset=this._offset,t.limit=this._limit),t.columns={...this._columns.map((t=>{const e={};return t.name&&(e.name=t.name),{...e,data:t.data,orderable:t.orderable,searchable:t.searchable}}))};const e=Promise.resolve(this._options.getResults(t));e.then((t=>{this._request===e&&(this._total=t.total,this._filtered=t.filtered,this._data=t.results,this._refreshResults(),this._rowIndexes=s._range(0,this._results.length-1),this.loading({show:!1}),this._renderResults(),this._request=null)})).catch((t=>{this._request===e&&(this.loading({show:!1}),this._request=null)})),this._request=e}),this._options.debounce);this._getData=e=>{this._request&&this._request.cancel&&this._request.cancel(),this._request=null,this.loading(),t()}},F._getVisibleColumns=function(){const t=[];for(const[e,s]of this._columns.entries()){if(!s.visible)return;t.push(e)}return t},F._refreshResults=function(){this._options.getResults?this._results=this._data:this._results=this._rowIndexes.map((t=>this._data[t]))},F._render=function(){this._original=s.clone(this._node),s.empty(this._node),this._container=s.create("div",{class:this.constructor.classes.container}),this._loader=s.create("div",{class:this.constructor.classes.loader});const t=s.create("span",{class:this.constructor.classes.loaderIcon});s.append(this._loader,t),s.addClass(this._node,this.constructor.classes.table),this._thead=s.create("thead"),s.append(this._node,this._thead),this._tbody=s.create("tbody"),s.append(this._node,this._tbody);const e=s.findOne("tfoot",this._original);e&&(this._tfoot=s.clone(e),s.append(this._node,this._tfoot)),s.hide(this._loader),s.after(this._node,this._container),s.append(this._container,this._loader),this._options.layout.top&&this._renderLayoutRow(this._options.layout.top,this.constructor.classes.topRow);const n=s.create("div",{class:this.constructor.classes.tableContainer});s.append(n,this._node),s.append(this._container,n),this._options.layout.bottom&&this._renderLayoutRow(this._options.layout.bottom,this.constructor.classes.bottomRow),this._infoContainer&&s.setAttribute(this._node,{"aria-describedby":s.getAttribute(this._infoContainer,"id")})},F._renderButtons=function(t){const e=s.create("div",{class:this.constructor.classes.buttonGroup});for(const t of this._options.buttons){const n=s.create("button",{class:this.constructor.classes.button,text:!t.text&&t.type in this._options.lang.buttons?this._options.lang.buttons[t.type]:t.text,attributes:{type:"button","aria-controls":s.getAttribute(this._node,"id")}});s.addEvent(n,"click.ui.table",(e=>{e.preventDefault(),t.callback?t.callback.bind(this)():t.type in this.constructor.buttons&&this.constructor.buttons[t.type].bind(this)(t)})),s.append(e,n)}s.append(t,e)},F._renderHeadings=function(){s.empty(this._thead);const t=s.create("tr");for(const[e,n]of this._headings.entries()){if(!this._columns[e].visible)continue;const i=s.create("th",{class:this.constructor.classes.tableHeading,html:n.text});if(n.class&&s.addClass(i,n.class),s.append(t,i),!this._options.ordering||!this._columns[e].orderable)continue;const r=[this.constructor.classes.tableSort],o={tabindex:0,"aria-controls":s.getAttribute(this._node,"id")};let a=this._columns[e].dir;for(const t of this._order)if(t[0]==e){switch(t[1]){case"asc":r.push(this.constructor.classes.tableSortAsc),o["aria-sort"]="ascending";break;case"desc":r.push(this.constructor.classes.tableSortDesc),o["aria-sort"]="descending"}a="asc"===t[1]?"desc":"asc";break}const l=s.getText(i);switch(a){case"asc":o["aria-label"]=`${l}${this._options.lang.aria.sortAscending}`;break;case"desc":o["aria-label"]=`${l}${this._options.lang.aria.sortDescending}`}s.addClass(i,r),s.setAttribute(i,o)}s.append(this._thead,t)},F._renderInfo=function(){s.empty(this._infoContainer);const t=this._offset+1,e=this._offset+this._results.length;let n=this._filtered<this._total?this._options.lang.infoFiltered:this._options.lang.info;const i={start:t,end:e,filtered:this._filtered,total:this._total};for(const[t,e]of Object.entries(i))n=n.replace(`{${t}}`,e);this._options.infoCallback&&(n=this._options.infoCallback(t,e,this._total,this._filtered,r));const r=s.create("small",{text:n});s.append(this._infoContainer,r)},F._renderInfoContainer=function(t){const n=e.generateId("table-info");this._infoContainer=s.create("div",{class:this.constructor.classes.infoContainer,attributes:{id:n,role:"status","aria-live":"polite"}}),s.append(t,this._infoContainer)},F._renderLayoutRow=function(t,e){const n=s.create("div",{class:e});for(const e of t.split(",")){const t=s.create("div",{class:this.constructor.classes.column});for(const n of e.split("|")){if(!(n in this.constructor.layout))continue;const e=s.create("div",{class:this.constructor.classes.columnContainer});this.constructor.layout[n].bind(this)(e),s.append(t,e)}s.append(n,t)}s.append(this._container,n)},F._renderLengthSelect=function(t){if(!this._options.lengthChange||!this._options.paging)return;const e=s.create("div",{class:this.constructor.classes.lengthContainer}),n=s.create("label",{class:this.constructor.classes.lengthLabel});s.append(e,n);const i=s.create("small",{class:this.constructor.classes.lengthLabelText,text:this._options.lang.perPage});s.append(n,i);const r=s.create("div",{class:this.constructor.classes.lengthInputContainer,style:{width:"initial"}});s.append(n,r),this._lengthSelect=s.create("select",{class:"filled"===this._options.inputStyle?this.constructor.classes.lengthInputFilled:this.constructor.classes.lengthInputOutline,attributes:{"aria-controls":s.getAttribute(this._node,"id")}}),s.append(r,this._lengthSelect);for(const t of this._options.lengths){const e=s.create("option",{value:t,text:t});t==this._limit&&s.setAttribute(e,{checked:!0}),s.append(this._lengthSelect,e)}if("filled"===this._options.inputStyle){const t=s.create("div",{class:this.constructor.classes.lengthInputRipple});s.append(r,t)}s.append(t,e)},F._renderPageItem=function(t){const e=s.create("div",{class:this.constructor.classes.pageItem}),n=s.create("button",{html:t.icon||t.text||t.page,class:this.constructor.classes.pageLink,attributes:{type:"button",title:t.text?`${t.text} ${this._options.lang.page}`:`${this._options.lang.page} ${t.page}`,role:"link","aria-controls":s.getAttribute(this._node,"id")}});return s.append(e,n),t.disabled&&(s.addClass(e,this.constructor.classes.pageDisabled),s.setAttribute(n,{"aria-disabled":!0,tabindex:-1})),t.active&&s.addClass(e,this.constructor.classes.pageActive),t.page&&s.setDataset(n,{uiPage:t.page}),e},F._renderPagination=function(){const t=Math.ceil(this._filtered/this._limit)||1,e=1+this._offset/this._limit;s.empty(this._pagination);const n=this._renderPageItem({text:this._options.lang.paginate.first,icon:this._options.icons.first,disabled:1==e,page:1});s.append(this._pagination,n);const i=this._renderPageItem({text:this._options.lang.paginate.previous,icon:this._options.icons.previous,disabled:1==e,page:e>1?e-1:null});s.append(this._pagination,i);let r=Math.max(e-5,1),o=Math.min(e+5,t);for(;o-r>4;)e-r>o-e?r++:o--;for(let t=r;t<=o;t++){const n=this._renderPageItem({page:t,active:t==e});s.append(this._pagination,n)}const a=this._renderPageItem({text:this._options.lang.paginate.next,icon:this._options.icons.next,disabled:e==t,page:e<t?e+1:null});s.append(this._pagination,a);const l=this._renderPageItem({text:this._options.lang.paginate.last,icon:this._options.icons.last,disabled:e==t,page:t});s.append(this._pagination,l)},F._renderPaginationContainer=function(t){const e=s.create("div",{class:this.constructor.classes.paginationContainer});s.append(t,e),this._pagination=s.create("div",{class:this.constructor.classes.pagination}),s.append(e,this._pagination)},F._renderResults=function(){if(s.triggerEvent(this._node,"preDraw.ui.table"),s.empty(this._tbody),this._renderHeadings(),this._options.headerCallback&&this._options.headerCallback(this._head,this._data,this._offset,this._offset+this._limit,this._rowIndexes),this._options.paging&&this._renderPagination(),this._options.info&&this._renderInfo(),this._results.length)for(const[t,e]of this._results.entries()){const n=this._renderRow(e,t);this._options.rowCallback&&this._options.rowCallback(n,e,t,this._offset+t,this._rowIndexes[t]),s.append(this._tbody,n),this._options.createdRow&&this._options.createdRow(n,e,t)}else{const t=s.create("tr"),e=s.create("td",{class:this.constructor.classes.emptyCell,html:this._term?this._options.lang.noResults:this._options.lang.noData,attributes:{colspan:this._columnCount}});s.append(t,e),s.append(this._tbody,t)}this._options.drawCallback&&this._options.drawCallback(),this._tfoot&&this._options.footerCallback&&this._options.footerCallback(this._tfoot,this._data,this._offset,this._offset+this._limit,this._rowIndexes),s.triggerEvent(this._node,"draw.ui.table")},F._renderRow=function(t,e){const n=s.create("tr");for(const[i,r]of this._columns.entries()){if(!r.visible)continue;const o=s._getDot(t,`${r.data}`),a=s.create("td",{html:r.format?r.format(o):o});r.class&&s.addClass(r.class),r.createdCell&&r.createdCell(a,o,t,e,i),s.append(n,a)}return n},F._renderSearch=function(t){if(!this._options.searching)return;const e=s.create("div",{class:this.constructor.classes.searchContainer}),n=s.create("div",{class:this.constructor.classes.searchInputContainer,style:{width:"200px"}});if(s.append(e,n),this._searchInput=s.create("input",{class:"filled"===this._options.inputStyle?this.constructor.classes.searchInputFilled:this.constructor.classes.searchInputOutline,attributes:{type:"search",placeholder:this._options.lang.search,"aria-controls":s.getAttribute(this._node,"id")}}),s.append(n,this._searchInput),"filled"===this._options.inputStyle){const t=s.create("div",{class:this.constructor.classes.searchInputRipple});s.append(n,t)}s.append(t,e)},t.Table=D}));